<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>TCBS Orders</title>

    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2022.2.621/styles/kendo.default-v2.min.css" />

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2022.2.621/js/kendo.all.min.js"></script>
</head>

<body>

    <style>
        .k-grid {
            /* width: 500px; */
            font-size: 12px;
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>

    <div id="basic_table"></div>
    <script>
        // sample datasource
        var basic_records = [{'symbol': 'EVE', 'type': 'Sell', 'KL_dat': -500.0, 'KL_khop': -500.0, 'KL_con': 0.0, 'gia_khop': 13900, 'gia_tri_khop': 6950000, 'phi': -6950, 'is_success': 1, 'tc_percent': 0.0}, {'symbol': 'HSG', 'type': 'Buy', 'KL_dat': 100.0, 'KL_khop': 100.0, 'KL_con': 0.0, 'gia_khop': 11500, 'gia_tri_khop': -1150000, 'phi': -1150, 'is_success': 1, 'tc_percent': -6.1}, {'symbol': 'HSG', 'type': 'Sell', 'KL_dat': -100.0, 'KL_khop': -100.0, 'KL_con': 0.0, 'gia_khop': 11650, 'gia_tri_khop': 1165000, 'phi': -1165, 'is_success': 1, 'tc_percent': -4.9}, {'symbol': 'PVT', 'type': 'Sell', 'KL_dat': -200.0, 'KL_khop': -200.0, 'KL_con': 0.0, 'gia_khop': 19500, 'gia_tri_khop': 3900000, 'phi': -3900, 'is_success': 1, 'tc_percent': 2.1}, {'symbol': 'VOS', 'type': 'Buy', 'KL_dat': 100.0, 'KL_khop': 100.0, 'KL_con': 0.0, 'gia_khop': 10850, 'gia_tri_khop': -1085000, 'phi': -1085, 'is_success': 1, 'tc_percent': -6.9}, {'symbol': 'VOS', 'type': 'Buy', 'KL_dat': 100.0, 'KL_khop': 100.0, 'KL_con': 0.0, 'gia_khop': 10950, 'gia_tri_khop': -1095000, 'phi': -1095, 'is_success': 1, 'tc_percent': -6.0}, {'symbol': 'VOS', 'type': 'Sell', 'KL_dat': -100.0, 'KL_khop': -100.0, 'KL_con': 0.0, 'gia_khop': 11400, 'gia_tri_khop': 1140000, 'phi': -1140, 'is_success': 1, 'tc_percent': -2.1}, {'symbol': 'VOS', 'type': 'Sell', 'KL_dat': -100.0, 'KL_khop': -100.0, 'KL_con': 0.0, 'gia_khop': 11100, 'gia_tri_khop': 1110000, 'phi': -1110, 'is_success': 1, 'tc_percent': -4.7}];

        var basicRowTemplateString = '<tr class="#: "" #" data-uid="#: uid #"><td>#= symbol #</td><td>#= type #</td><td>#= KL_dat #</td><td>#= KL_khop #</td><td>#= KL_con #</td><td>#= gia_khop #</td><td>#= gia_tri_khop #</td><td>#= phi #</td><td>#= is_success #</td><td>#= tc_percent #</td></tr>';

        // Create the alt row template string. This alt row is the same as the regular row, it simply has one additional class.
        var basicAltRowTemplateString = basicRowTemplateString.replace('tr class="', 'tr class="k-alt ');

        $(document).ready(function() {
            $("#basic_table").kendoGrid({
                dataSource: {
                    data: basic_records,
                    //pageSize: 5,
                    schema: {
                        model: {'fields': {'symbol': {}, 'type': {}, 'KL_dat': {'type': 'number'}, 'KL_khop': {'type': 'number'}, 'KL_con': {'type': 'number'}, 'gia_khop': {'type': 'number'}, 'gia_tri_khop': {'type': 'number'}, 'phi': {'type': 'number'}, 'is_success': {'type': 'number'}, 'tc_percent': {'type': 'number'}}}
                    },
                    aggregate: [{'field': 'gia_tri_khop', 'aggregate': 'sum'}, {'field': 'phi', 'aggregate': 'sum'}, {'field': 'KL_dat', 'aggregate': 'sum'}, {'field': 'KL_khop', 'aggregate': 'sum'}, {'field': 'KL_con', 'aggregate': 'sum'}]
                },
                //sortable: true,
                //pageable: true,
                filterable: true,
                sortable: {
                    mode: "multiple"
                },
                dataBound: function() {
                    for (var i = 0; i < this.columns.length; i++) {
                        this.autoFitColumn(i);
                    }
                },
                toolbar: ["TCBS Success Orders at 2022-12-07 12:27:06.194809", "search"],
                search: {
                    fields: [
                        { name: "symbol", operator: "contains" },
                        //{ name: "GAP", operator: "lte" },
                        //{ name: "ShipName", operator: "contains" },
                        //{ name: "ShipCity", operator: "contains" },
                    ]
                },
                columns: [{'field': 'symbol', 'title': 'symbol', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}}, {'field': 'type', 'title': 'type', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}}, {'field': 'KL_dat', 'title': 'KL_dat', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(KL_dat)#', 'footerTemplate': '#: kendo.format("{0:n0}",sum) #'}, {'field': 'KL_khop', 'title': 'KL_khop', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(KL_khop)#', 'footerTemplate': '#: kendo.format("{0:n0}",sum) #'}, {'field': 'KL_con', 'title': 'KL_con', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(KL_con)#', 'footerTemplate': '#: kendo.format("{0:n0}",sum) #'}, {'field': 'gia_khop', 'title': 'gia_khop', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(gia_khop)#'}, {'field': 'gia_tri_khop', 'title': 'gia_tri_khop', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(gia_tri_khop)#', 'footerTemplate': '#: kendo.format("{0:n0}",sum) #'}, {'field': 'phi', 'title': 'phi', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(phi)#', 'footerTemplate': '#: kendo.format("{0:n0}",sum) #'}, {'field': 'is_success', 'title': 'is_success', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(is_success)#'}, {'field': 'tc_percent', 'title': 'tc_percent', 'attributes': {'style': 'text-align: right'}, 'filterable': {'multi': 'true'}, 'format': '{0:n0}', 'template': '#=SetColor(tc_percent)#'}],
                //rowTemplate: basicRowTemplateString, // Provide the row template string
                //altRowTemplate: basicAltRowTemplateString // Provide the alt row template string.
            });
        });

        function SetColor(value)
        {
            if(value<0)
                return "<font color=\"red\">"+kendo.format("{0:n1}", value)+"</font>";
            else if (value>0)
                return "<font color=\"green\">"+kendo.format("{0:n1}", value)+"</font>";
            else
                return value
        }
    </script>
</body>

</html>